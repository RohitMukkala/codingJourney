<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/three.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coding Journey</title>
    <script>
      // Smart environment-based API URL detection
      (function () {
        // Check if we're in development mode (localhost or 127.0.0.1)
        const isDev =
          window.location.hostname === "localhost" ||
          window.location.hostname === "127.0.0.1";

        // Set default API URL based on environment
        if (isDev) {
          // For local development, use localhost:8000
          window.API_URL = "http://localhost:8000";
          window.CLERK_API_URL = "https://clerk.dev";
        } else if (window.location.hostname.includes("codenexusai.me")) {
          window.API_URL = "https://codingjourney.onrender.com";
          window.CLERK_API_URL = "https://clerk.codenexusai.me";
        } else if (window.location.hostname.includes("vercel.app")) {
          // In production on Vercel, use the Render backend
          window.API_URL = "https://codingjourney.onrender.com";
          window.CLERK_API_URL = "https://clerk.dev";
        }

        // Log the detected environment
        console.log(
          `Environment detected: ${isDev ? "Development" : "Production"}`
        );
        console.log(`API_URL set to: ${window.API_URL}`);
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
